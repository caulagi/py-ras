language: python
env:
  global:
    - PGPORT=5433
addons:
  postgresql: 10
  apt:
    packages:
      - postgresql-10
      - postgresql-client-10
python:
  - '3.5'
  - '3.6'
install: 'pip install -r test/requirements.txt'
script:
  - py.test --cov-report xml --cov .
  - flake8
  - isort --check-only --recursive
after_success:
  - python-codacy-coverage -r coverage.xml
